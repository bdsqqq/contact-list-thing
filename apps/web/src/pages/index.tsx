import { type NextPage } from "next";
import Head from "next/head";

import { Subscribers } from "~/components/Subscribers";
import { ContactLists } from "~/components/ContactLists";
import { Upload } from "~/components/Upload";
import { Shell } from "~/components/Shell";
import { api } from "~/utils/api";

import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from "~/components/ui/Dialog";

const Home: NextPage = () => {
  const { data, isLoading, error } = api.list.getByName.useQuery({
    name: "tost",
  });

  return (
    <>
      <Head>
        <title>Create T3 App</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Shell>
        <div className="flex flex-col gap-8">
          <>
            {isLoading && <p>Loading...</p>}
            {error && <p>Error: {error.message}</p>}
            {data && (
              <pre>
                <code>{JSON.stringify(data, null, 2)}</code>
              </pre>
            )}
          </>

          <Dialog>
            <DialogTrigger>Open</DialogTrigger>
            <DialogContent>
              <DialogHeader>
                <DialogTitle>Are you sure absolutely sure?</DialogTitle>
                <DialogDescription>
                  This action cannot be undone. This will permanently delete
                  your account and remove your data from our servers.
                </DialogDescription>
              </DialogHeader>
            </DialogContent>
          </Dialog>
          {/* <section>
            <h2>LISTS</h2>
            <ContactLists />
          </section>

          <section>
            <h2>SUBSCRIBERS</h2>
            <Subscribers listid={1} />
          </section>

          <section>
            <h2>UPLOAD</h2>
            <Upload />
          </section> */}
        </div>
      </Shell>
    </>
  );
};

export default Home;
